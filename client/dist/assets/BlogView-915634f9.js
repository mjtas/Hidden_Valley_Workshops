import{_ as m,S as b,r as p,o as r,c as a,d as e,t as g,n as f,h as c,i as u,v as k,j as v,k as y,F as _,b as x,f as w,e as P}from"./main-9ff353cb.js";const S={components:{SubscriptionForm:b},props:{post:Object},data(){return{searchQuery:""}},created(){axios.get("https://hidden-valley-workshops.onrender.com/getBlogData").then(t=>{this.blogPosts=t.data}).catch(t=>{console.error("Error fetching blog posts:",t)})},computed:{mainTextWithHighlights(){return this.mainText.map(t=>this.highlightSearchTerms(t,this.searchQuery))}},methods:{toggleText(t){const s=this.blogPosts.find(o=>o.title===t);s&&(s.show=!s.show)},isHighlighted(t){if(!this.searchQuery)return!1;const s=new RegExp(this.searchQuery,"gi");return t.match(s)!==null},highlightSearchTerms(t,s){if(!s)return t;const o=new RegExp(s,"gi");return t.replace(o,h=>`<span class="highlight">${h}</span>`)},clearSearch(){this.searchQuery=""}}},B={class:"table-left"},Q={class:"main-text"},T={key:0,class:"main-li"},D={class:"main-right"},V={key:0,class:"booking-container"},C={class:"main-opaque"},E=["src"];function F(t,s,o,h,i,l){const d=p("SubscriptionForm");return r(),a(_,null,[e("div",B,[e("ul",Q,[e("h3",{class:"h3-link",onClick:s[0]||(s[0]=n=>l.toggleText(o.post.title))},g(o.post.title),1),o.post.show?(r(),a("li",T,[e("span",{class:f({highlight:l.isHighlighted(o.post.text)})},g(o.post.text),3)])):c("",!0)])]),e("div",D,[t.latest?(r(),a("div",V,[u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>i.searchQuery=n),class:"search-input",placeholder:"Search for keywords"},null,512),[[k,i.searchQuery]]),u(e("button",{onClick:s[2]||(s[2]=(...n)=>l.clearSearch&&l.clearSearch(...n)),class:"clear-button"},"X",512),[[v,i.searchQuery]])])):c("",!0),t.latest?(r(),y(d,{key:1})):c("",!0),e("div",C,[o.post.show?(r(),a("img",{key:0,class:"about-img",src:`/${o.post.image}.png`},null,8,E)):c("",!0)])])],64)}const H=m(S,[["render",F]]),N={components:{BlogPost:H},data(){return{blogPosts:[],sortedPosts:[]}},created(){x.get("https://hidden-valley-workshops.onrender.com/getBlogData").then(t=>{this.blogPosts=t.data,this.sortPosts()}).catch(t=>{console.error("Error fetching blog posts:",t)})},methods:{sortPosts(){this.sortedPosts=[...this.blogPosts].sort((t,s)=>new Date(t.date)-new Date(s.date))}}},$={class:"main"},j={class:"main-container"},R=e("div",{class:"other-heading"},[e("h1",null,"Hidden Valley"),e("h2",null,"Blog")],-1),q={class:"about-other"};function z(t,s,o,h,i,l){const d=p("BlogPost");return r(),a("div",$,[e("div",j,[R,e("div",q,[(r(!0),a(_,null,w(i.sortedPosts,n=>(r(),a("div",{class:"block",key:n.title},[P(d,{post:n},null,8,["post"])]))),128))])])])}const M=m(N,[["render",z]]);export{M as default};
