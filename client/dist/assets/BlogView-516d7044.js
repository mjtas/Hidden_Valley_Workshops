import{_ as u,S as b,b as m,r as p,o as r,c as a,d as s,t as f,n as k,h as l,i as g,v,j as y,k as w,F as _,f as B,e as S}from"./main-38561f16.js";const x={components:{SubscriptionForm:b},props:{post:Object},data(){return{searchQuery:""}},created(){m.get("https://hidden-valley-workshops.onrender.com/getBlogData").then(e=>{this.blogPosts=e.data}).catch(e=>{console.error("Error fetching blog posts:",e)})},computed:{mainTextWithHighlights(){return this.mainText.map(e=>this.highlightSearchTerms(e,this.searchQuery))}},methods:{toggleText(e){e.show=!e.show}},isHighlighted(e){if(!this.searchQuery)return!1;const t=new RegExp(this.searchQuery,"gi");return e.match(t)!==null},highlightSearchTerms(e,t){if(!t)return e;const o=new RegExp(t,"gi");return e.replace(o,c=>`<span class="highlight">${c}</span>`)},clearSearch(){this.searchQuery=""},renderHtml(e){return e}},P={class:"table-left"},T={class:"main-text"},H={key:0,class:"main-li"},Q=["innerHTML"],D={class:"main-right"},V={key:0,class:"booking-container"},C={key:2,class:"main-opaque"},E=["src"];function F(e,t,o,c,i,h){const d=p("SubscriptionForm");return r(),a(_,null,[s("div",P,[s("ul",T,[s("h3",{class:"h3-link",onClick:t[0]||(t[0]=n=>h.toggleText(o.post))},f(o.post.title),1),o.post.show?(r(),a("li",H,[s("span",{class:k({highlight:e.isHighlighted(o.post.text)}),innerHTML:e.renderHtml(o.post.text)},null,10,Q)])):l("",!0)])]),s("div",D,[e.latest?(r(),a("div",V,[g(s("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>i.searchQuery=n),class:"search-input",placeholder:"Search for keywords"},null,512),[[v,i.searchQuery]]),g(s("button",{onClick:t[2]||(t[2]=(...n)=>e.clearSearch&&e.clearSearch(...n)),class:"clear-button"},"X",512),[[y,i.searchQuery]])])):l("",!0),e.latest?(r(),w(d,{key:1})):l("",!0),o.post.show?(r(),a("div",C,[s("img",{class:"about-img",src:`/${o.post.image}.png`},null,8,E)])):l("",!0)])],64)}const $=u(x,[["render",F]]),L={components:{BlogPost:$},data(){return{blogPosts:[]}},computed:{sortedBlogPosts(){return this.blogPosts.slice().sort((e,t)=>new Date(t.date)-new Date(e.date))}},created(){m.get("https://hidden-valley-workshops.onrender.com/getBlogData").then(e=>{this.blogPosts=e.data}).catch(e=>{console.error("Error fetching blog posts:",e)})}},M={class:"main"},N={class:"main-container"},j=s("div",{class:"other-heading"},[s("h1",null,"Hidden Valley"),s("h2",null,"Blog")],-1),R={class:"about-other"};function q(e,t,o,c,i,h){const d=p("BlogPost");return r(),a("div",M,[s("div",N,[j,s("div",R,[(r(!0),a(_,null,B(h.sortedBlogPosts,n=>(r(),a("div",{class:"block",key:n.title},[S(d,{post:n},null,8,["post"])]))),128))])])])}const O=u(L,[["render",q]]);export{O as default};
