import{_ as g,S as p,r as _,o as r,c as l,d as s,t as b,n as f,h as c,i as u,v as k,j as v,k as x,F as m,b as y,f as w,e as B}from"./main-0bc7cfb3.js";const S={components:{SubscriptionForm:p},props:{post:Object},data(){return{searchQuery:""}},computed:{postTextWithHighlights(){return this.highlightSearchTerms(this.post.text,this.searchQuery)}},methods:{toggleText(e){e.show=!e.show},isHighlighted(e){if(!this.searchQuery)return!1;const t=new RegExp(this.searchQuery,"gi");return e.match(t)!==null},highlightSearchTerms(e,t){if(!t)return e;const o=new RegExp(`\\b${t}\\b`,"gi");return e.replace(o,h=>`<span class="highlight">${h}</span>`)},clearSearch(){this.searchQuery=""},renderHtml(e){return e}}},H={class:"table-left"},P={class:"main-text"},T={key:0,class:"main-li"},Q=["innerHTML"],V={class:"main-right"},C={key:0,class:"booking-container"},D={key:2,class:"main-opaque"},F=["src"];function E(e,t,o,h,i,n){const d=_("SubscriptionForm");return r(),l(m,null,[s("div",H,[s("ul",P,[s("h3",{class:"h3-link",onClick:t[0]||(t[0]=a=>n.toggleText(o.post))},b(o.post.title),1),o.post.show?(r(),l("li",T,[s("span",{class:f({highlight:n.isHighlighted(o.post.text)}),innerHTML:n.renderHtml(o.post.text)},null,10,Q)])):c("",!0)])]),s("div",V,[o.post.latest?(r(),l("div",C,[u(s("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>i.searchQuery=a),class:"search-input",placeholder:"Search for keywords"},null,512),[[k,i.searchQuery]]),u(s("button",{onClick:t[2]||(t[2]=(...a)=>n.clearSearch&&n.clearSearch(...a)),class:"clear-button"},"X",512),[[v,i.searchQuery]])])):c("",!0),o.post.latest?(r(),x(d,{key:1})):c("",!0),o.post.show?(r(),l("div",D,[s("img",{class:"about-img",src:`/${o.post.image}.png`},null,8,F)])):c("",!0)])],64)}const L=g(S,[["render",E]]),M={components:{BlogPost:L},data(){return{blogPosts:[]}},computed:{sortedBlogPosts(){return this.blogPosts.slice().sort((e,t)=>new Date(t.date)-new Date(e.date))}},created(){y.get("https://hidden-valley-workshops.onrender.com/getBlogData").then(e=>{this.blogPosts=e.data}).catch(e=>{console.error("Error fetching blog posts:",e)})}},N={class:"main"},j={class:"main-container"},R=s("div",{class:"other-heading"},[s("h1",null,"Hidden Valley"),s("h2",null,"Blog")],-1),q={class:"about-other"};function z(e,t,o,h,i,n){const d=_("BlogPost");return r(),l("div",N,[s("div",j,[R,s("div",q,[(r(!0),l(m,null,w(n.sortedBlogPosts,a=>(r(),l("div",{class:"block",key:a.title},[B(d,{post:a},null,8,["post"])]))),128))])])])}const U=g(M,[["render",z]]);export{U as default};
