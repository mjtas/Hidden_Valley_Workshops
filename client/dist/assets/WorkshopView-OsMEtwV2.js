import{_ as g,b as h,r as p,c as r,d as t,e as k,w as m,F as f,f as b,o as c,g as d,t as a,h as v}from"./main-D54dwgcD.js";const y={data(){return{price:[],workshops:[],sortedWorkshops:[]}},created(){h.get("https://hidden-valley-workshops.onrender.com/getData").then(e=>{this.workshops=e.data,this.sortWorkshops(),this.selectedWorkshop=this.sortedWorkshops[0]}).catch(e=>{console.error("Error fetching data:",e)}),h.get("https://hidden-valley-workshops.onrender.com/getPriceData").then(e=>{this.price=e.data}).catch(e=>{console.error("Error fetching price data:",e)})},methods:{sortWorkshops(){this.sortedWorkshops=[...this.workshops].sort((e,o)=>new Date(e.date)-new Date(o.date))},toggleText(e){const o=this.workshops.find(n=>n.name===e);o&&(o.show=!o.show)},formatDate(e){const o={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-UK",o)},calcPrice(e){const o=this.price.find(n=>n.type===e);return o&&o.singlePrice!==void 0?o.singlePrice:"N/A"},calcDoublePrice(e){const o=this.price.find(n=>n.type===e);return o&&o.doublePrice!==void 0?o.doublePrice:"N/A"},redirectToExternalLink(e){e&&e.link?window.location.href=e.link:console.error("Invalid workshop data or link not available.")}}},x={class:"main"},w={class:"main-container"},D={class:"other-heading"},C=t("h1",null,"Hidden Valley",-1),P=t("h2",null,"Sustainable Living Workshops",-1),W={class:"workshop-booking-container"},N={class:"home-booking"},L=t("h3",null,"Can't get to a scheduled workshop? Arrange one at a date and time that suits you for $399",-1),T={class:"about-other"},V={class:"main-left"},E={class:"main-text"},B=["onClick"],A={key:0,class:"main-li"},S={class:"price-li"},F={class:"booking-container"},U={class:"booking"},q={class:"booking-left"},H={class:"booking-text"},I=t("br",null,null,-1),K=["onClick"],j={class:"main-right"},z={class:"main-opaque"},G=["src"];function J(e,o,n,M,l,i){const _=p("router-link");return c(),r("div",x,[t("div",w,[t("div",D,[C,P,t("div",W,[t("div",N,[L,k(_,{to:"/contactUs",tag:"button",class:"button button3"},{default:m(()=>[d("Contact")]),_:1})])])]),t("div",T,[(c(!0),r(f,null,b(l.sortedWorkshops,s=>(c(),r("div",{class:"block",key:s.name},[t("div",V,[t("ul",E,[t("h3",{class:"h3-link",onClick:u=>i.toggleText(s.name)},a(s.name),9,B),s.show?(c(),r("li",A,a(s.text),1)):v("",!0),t("li",S,a(l.price.length>0?i.calcPrice(s.type):"Loading...")+" (or bring a friend for "+a(l.price.length>0?i.calcDoublePrice(s.type):"Loading...")+")",1),t("div",F,[t("div",U,[t("div",q,[t("div",H,[d("Next Date:"),I,d(a(i.formatDate(s.date)),1)])]),t("button",{class:"button button2",onClick:u=>i.redirectToExternalLink(s)},"Book Now",8,K)])])])]),t("div",j,[t("div",z,[t("img",{class:"about-img",src:`/${s.image}.png`},null,8,G)])])]))),128))])])])}const Q=g(y,[["render",J]]);export{Q as default};
